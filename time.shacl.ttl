# SPDX-License-Identifier:  MPL-2.0
# Author: Minh Nguyen (minh@mail.minhnh.com)
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix time: <https://secorolab.github.io/metamodels/time#> .

time:BeforeEventShape
  a sh:PropertyShape ;
  sh:description ":before-event must link to exactly 1 :Event" ;
  sh:path time:before-event ;
  sh:class time:Event ;
  sh:nodeKind sh:IRI ;
  sh:minCount 1 ;
  sh:maxCount 1 .

time:AfterEventShape
  a sh:PropertyShape ;
  sh:description ":after-event must link to exactly 1 :Event" ;
  sh:path time:after-event ;
  sh:class time:Event ;
  sh:nodeKind sh:IRI ;
  sh:minCount 1 ;
  sh:maxCount 1 .

time:BeforeEventConstraintShape
  a sh:NodeShape ;
  sh:targetClass time:BeforeEventConstraint ;
  sh:property time:BeforeEventShape ;
  sh:and (
    [ sh:class time:BeforeEventConstraint ]
    [ sh:class time:TimeConstraint ]
  ) .

time:AfterEventConstraintShape
  a sh:NodeShpe ;
  sh:targetClass time:AfterEventConstraint ;
  sh:property time:AfterEventShape ;
  sh:and (
    [ sh:class time:AfterEventConstraint ]
    [ sh:class time:TimeConstraint ]
  ) .

time:DuringEventsConstraintShape
  a sh:NodeShape ;
  sh:targetClass time:DuringEventsConstraint ;
  sh:property time:BeforeEventShape ;
  sh:property time:AfterEventShape ;
  sh:and (
    [ sh:class time:DuringEventsConstraint ]
    [ sh:class time:TimeConstraint ]
  ) .
